{% extends "core/student/base_student.html" %}
{% block title %}Math Diagnostic{% endblock %}

{% block content %}
<div class="card">
  <h1>Math Diagnostic</h1>
  <p>
    This short test helps your tutor understand your current level before your demo class.
    Please answer honestly.
  </p>
</div>

<br>

<form method="post" class="card">
  {% csrf_token %}

  <h2>Questions</h2>
  <p class="small">Choose one option for each question.</p>

  <br>

  {% for q in questions %}
    <div class="card" style="border: 1px solid var(--border); box-shadow: none; margin-bottom: 14px;">
      <div style="display:flex; justify-content: space-between; align-items: center;">
        <div class="small"><strong>Question {{ forloop.counter }}</strong></div>
        {% if q.topic %}
          <div class="small" style="padding: 4px 10px; border-radius: 999px; border: 1px solid var(--border); background: #fafafa;">
            {{ q.get_topic_display }}
          </div>
        {% endif %}
      </div>

      <div style="margin-top: 10px; font-weight: 800;">
        {{ q.text }}
      </div>

      <div style="margin-top: 10px;">
        <label style="display:block; padding: 10px; border:1px solid var(--border); border-radius: 10px; margin-bottom: 8px; cursor:pointer;">
          <input type="radio" name="question_{{ q.id }}" value="A" required> A) {{ q.option_a }}
        </label>

        <label style="display:block; padding: 10px; border:1px solid var(--border); border-radius: 10px; margin-bottom: 8px; cursor:pointer;">
          <input type="radio" name="question_{{ q.id }}" value="B"> B) {{ q.option_b }}
        </label>

        <label style="display:block; padding: 10px; border:1px solid var(--border); border-radius: 10px; margin-bottom: 8px; cursor:pointer;">
          <input type="radio" name="question_{{ q.id }}" value="C"> C) {{ q.option_c }}
        </label>

        <label style="display:block; padding: 10px; border:1px solid var(--border); border-radius: 10px; cursor:pointer;">
          <input type="radio" name="question_{{ q.id }}" value="D"> D) {{ q.option_d }}
        </label>
      </div>
    </div>
  {% endfor %}

  <div style="margin-top: 12px;">
    <button class="btn" type="submit">Submit Diagnostic</button>
  </div>

  <p class="small" style="margin-top: 12px;">
    This diagnostic can only be submitted once.
  </p>
</form>
{% endblock %}
