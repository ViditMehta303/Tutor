{% extends "core/student/base_student.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-lg-8">

    <div class="card shadow-sm mb-3">
      <div class="card-body">
        <h1 class="h4 mb-1">Student Dashboard</h1>
        <p class="text-muted mb-0">
          Welcome, <strong>{{ student.user.username }}</strong>.
        </p>
      </div>
    </div>

    <div class="card shadow-sm">
      <div class="card-body">
        <h2 class="h5 mb-3">Latest Diagnostic</h2>

        {% if latest_result %}
          <p class="mb-1"><strong>Score:</strong> {{ latest_result.correct_answers }} / {{ latest_result.total_questions }}</p>
          <p class="mb-1"><strong>Percent:</strong> {{ latest_result.percent_score }}%</p>
          <p class="mb-0 text-muted">
            Submitted: {{ latest_result.created_at }}
          </p>
        {% else %}
          <p class="text-muted mb-0">No diagnostic submitted yet.</p>
          <a class="btn btn-primary mt-3" href="{% url 'start_diagnostic' %}">Start Diagnostic</a>
        {% endif %}
      </div>
    </div>

  </div>
</div>
{% endblock %}
